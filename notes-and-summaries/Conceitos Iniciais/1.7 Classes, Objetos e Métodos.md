## Classes em Java

A **Classe** √© a unidade b√°sica de encapsulamento do java. A defini√ß√£o da classe come√ßa com a chave de abertura ({) e termina com a chave de fechamento (}). Os elementos existentes entre as duas chaves s√£o membros da classe.

**Declarando uma classe:

```java
class Example {}
```

Uma classe define a forma de um objeto, ela especifica tanto os dados quanto o c√≥digo que operar√° sobre eles. **Os objetos s√£o inst√¢ncias de uma classe**. Logo, uma classe √© basicamente um conjunto de planos que especifica como construir um objeto.

Uma classe bem projetada deve agrupar informa√ß√µes logicamente conectas. A inser√ß√£o de informa√ß√µes n√£o relacionadas na mesma classe desestruturar√° rapidamente o c√≥digo.

Exemplifica√ß√£o:

```java
class Vehicle {
	int passengers;
	int fuelcap;
	int mpg;
}
```

No escopo de exemplo, tr√™s **vari√°veis de inst√¢ncia** foram criadas: passengers, fuelcap e mpg. A defini√ß√£o *class* cria um novo tipo de dado, sendo que o nome da classe ser√° utilizado para declarar objetos de seu Tipo. Apesar disso, uma declara√ß√£o classe √© s√≥ uma descri√ß√£o de Tipo, n√£o cria diretamente um objeto real. Para criar um objeto a seguinte instru√ß√£o deve ser feita:

```java
Vehicle minivan = new Vehicle();
```

Nesse contexto, *minivan* ser√° uma **inst√¢ncia** de *Vehicle*. Sempre que uma instancia√ß√£o for feita, um objeto contendo cada vari√°vel de inst√¢ncia definida pela classe ser√° criado. O bjeto √© especificado √† esquerda e o membro √© inserido √† direita.

```java
minivan.fuelcap = 16;
```

Cada objeto term suas pr√≥prias c√≥pias das vari√°veis de inst√¢ncia definidas por sua classe. Logo, o conte√∫do das vari√°veis de um objeto pode diferir do conte√∫do das varia¬¥veis de outro. N√£o h√° conex√£o entre os dois objetos exceto pelo fato de serem do mesmo tipo.

## Objetos em Java

Na cria√ß√£o de um objeto, a declara√ß√£o realiza duas a√ß√µes:

1. Declara uma vari√°vel. (no exemplo utilizado anteriormente: *minivan* do Tipo *Vehicle*). A vari√°vel minivan **N√ÉO** define um objeto, em vez disso, ela apenas referencia um objeto.
2. Cria uma c√≥pia f√≠sica do objeto e atribui √† *minivan* uma refer√™ncia a ele (vincula a vari√°vel ao objeto). Isso √© feito por meio do operador *new*.

O operador **new** aloca dinamicamente (aloca no tempo de execu√ß√£o) mem√≥ria para um objeto e retorna uma *refer√™ncia* a ele. Essa refer√™ncia √© o *endere√ßo do objeto na mem√≥ria* alocado por new. A refer√™ncia √© ent√£o armazenada em uma vari√°vel. Todos os objetos de uma classe devem ser alocados dinamicamente.

>**Observa√ß√£o:** J√° que a mem√≥ria √© finita, √© poss√≠vel que new n√£o consiga alocar mem√≥ria para um objeto por n√£o existir mem√≥ria suficiente. Se isso ocorrer, haver√° uma exce√ß√£o de tempo de execu√ß√£o.

Em uma opera√ß√£o de atribui√ß√£o, vari√°veis de refer√™ncia de objeto agem diferentemente de vari√°veis de um tipo primitivo. Quando se d√° entre vari√°veis de tipo primitivo, a vari√°vel da esquerda recebe uma c√≥pia do *valor* da vari√°vel da direita. Quando se d√° entre vari√°veis de refer√™ncia de objeto, estamos alterando o objeto para o qual a vari√°vel de refer√™ncia aponta.

## M√©todos em Java

Os **m√©todos** s√£o sub-rotinas que tratam os dados definidos pela classe e, em muitos casos, d√£o acesso a esses dados. Em um c√≥digo Java bem escrito, cada m√©todo executa apenas uma tarefa, sendo que cada m√©todo tem um nome que √© utilizado para cham√°-lo.

```java
tipo-ret nome(par√¢metros){
	sequ√™ncia de instru√ß√µes
}
```

No exemplo, tipo-ret especifica o tipo de dado retornado pelo m√©todo. Ele pode ser qualquer tipo v√°lido, inclusive tipos n√£o-primitivos. Se o m√©todo n√£o retornar um valor, seu tipo de retorno deve ser **void**.

```java
minivan.range();
```

Essa instru√ß√£o chama o m√©todo *range( )* em *minivan*, ou seja, chama o m√©todo em rela√ß√£o ao objeto. Quando um m√©todo √© chamado, o controle do programa √© transferido para ele. Quando o m√©todo termina, o controle √© transferido novamente para o chamador e a execu√ß√£o √© retomada na linha de c√≥digo posterior √† chamada.

Quando um m√©todo usa uma vari√°vel de inst√¢ncia definida por sua classe, ele faz isso diretamente, sem refer√™ncia expl√≠cita a um objeto e sem o uso do operador ponto. Um m√©todo sempre √© chamado em rela√ß√£o a algum objeto de sua classe, por isso o objeto sempre ser√° conhecido.

## Construtores em Java

Um **construtor** inicializa um objeto quando este √© criado. Ele tem o mesmo nome de sua classe e √© sintaticamente semelhante a um m√©todo. Todas as classes t√™m construtores, mesmo quando n√£o definimos um, porque o Java fornece automaticamente um construtor padr√£o que inicializa todas as vari√°veis membros com seus valores padr√£o, que s√£o: *0*, *null* e *false*, para tipos num√©ricos, tipos de refer√™ncia e booleans, respectivamente. No entanto, quando definimos nosso pr√≥prio construtor, o construtor padr√£o n√£o √© mais usado.

```java
MyClass() {
	x = 10;
}
```

Os par√¢metros podem ser adicionados a um construtor da mesma forma que s√£o adicionados a um m√©todo:

```java
Vehicle(int p, int f, int m){
	passengers = p;
	fuelcap = f;
	mpg = m;
}
```

Cada objeto √© inicializado como especificado nos par√¢metros de seu construtor.

```java
Vehicle minivan = new Vehicle(7, 16, 21);
```

## Garbage Collection

Um componente-chave de qualquer esquema de aloca√ß√£o din√¢mica √© a recupera√ß√£o de mem√≥ria livre de objetos n√£o usados, com a disponibiliza√ß√£o dessa mem√≥ria para realoca√ß√µes subsequentes.

O sistema de coleta de lixo do Java reclama objetos automaticamente - ocorrendo de maneira transparente em segundo plano, sem nenhuma interven√ß√£o do programador. Dessa forma, quando n√£o existe nenhuma refer√™ncia a um objeto, ele n√£o √© mais considerado necess√°rio e a mem√≥ria ocupada √© liberada. Essa mem√≥ria reciclada pode ent√£o ser usada para uma aloca√ß√£o subsequente.

A coleta de lixo s√≥ ocorre esporadicamente durante a execu√ß√£o do programa. Ela n√£o ocorrer√° s√≥ porque existem um ou mais objetos que n√£o s√£o mais usados. A t√≠tulo de efici√™ncia, geralmente o coletor de lixo s√≥ √© executado quando duas condi√ß√µes s√£o atendidas: h√° objetos a serem reciclados e h√° necessidade de recicl√°-los.

## M√©todo finalize( )

TBA

## THIS

Quando um m√©todo √© chamado, ele recebe automaticamente um argumento impl√≠cito, que √© uma refer√™ncia ao objeto chamador (isto √©, o objeto em que o m√©todo √© chamado). Aqui, **this** referencia o objeto em que o m√©todo foi chamado. Portanto, this.var referencia a c√≥pia de var pertencente a esse objeto.

### üîó Refer√™ncias

-  **Part I ‚Üí Chapter VI:** Introducing Classes (*Java - The Complete Reference* 9th Edition by *Herbert Schildt*).